{"swagger":"2.0","info":{"title":"Stream Statistics","description":"An API for stream statistics","version":""},"host":"localhost:8080","basePath":"api","schemes":["http"],"consumes":["application/json"],"produces":["application/json"],"paths":{"/api/add/{stream}/{ordinal}/{value}":{"get":{"summary":"add","description":"add a value to a stream referencing an ordinal position","operationId":"OrdinalValues#add","parameters":[{"name":"ordinal","in":"path","description":"The ordinal position of the value","required":true,"type":"integer"},{"name":"stream","in":"path","description":"The stream for which the value is to be added","required":true,"type":"string"},{"name":"value","in":"path","description":"The value to be added to the stream","required":true,"type":"number"}],"responses":{"200":{"description":"OK"}},"schemes":["http"]}},"/api/push":{"post":{"summary":"push","description":"Pushes a new ordinal value onto the stream","operationId":"OrdinalValues#push","parameters":[{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/PushOrdinalValuesPayload"}}],"responses":{"200":{"description":"OK"}},"schemes":["http"]}},"/api/register":{"post":{"summary":"register","description":"Registers a new stream","operationId":"OrdinalValues#register","parameters":[{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/RegisterOrdinalValuesPayload"}}],"responses":{"200":{"description":"OK"}},"schemes":["http"]}},"/api/statistics":{"post":{"summary":"statistics","description":"Gets statistics matching search criteria","operationId":"OrdinalValues#statistics","parameters":[{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/StatisticsOrdinalValuesPayload"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/GoaStatisticsresults"}}},"schemes":["http"]}},"/api/tag":{"post":{"summary":"tag","description":"Changes the tag assignments for a stream","operationId":"OrdinalValues#tag","parameters":[{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/TagOrdinalValuesPayload"}}],"responses":{"200":{"description":"OK"}},"schemes":["http"]}}},"definitions":{"GoaIntervalstatisticsresult":{"title":"Mediatype identifier: vnd.application/goa.intervalstatisticsresult","type":"object","properties":{"coefficientOfVariation":{"type":"number","description":"a measure of the variability of values within the sample set","example":0.5450237251793091,"format":"double"},"count":{"type":"number","description":"the count of values occuring within the interval","example":0.7511347905003307,"format":"double"},"intervalEnd":{"type":"integer","description":"the ordinal position at the end of the interval","example":1324394585144261257,"format":"int64"},"intervalStart":{"type":"integer","description":"the ordinal position at the start of the interval","example":2976584018528375198,"format":"int64"},"maximum":{"type":"number","description":"the maximum value occuring within the interval","example":0.7731169706587229,"format":"double"},"mean":{"type":"number","description":"the mean of the interval values","example":0.9319411590156806,"format":"double"},"minimum":{"type":"number","description":"the minimum value occuring within the interval","example":0.44501212496907444,"format":"double"},"sampleCount":{"type":"number","description":"the count of sample values","example":0.11258541145984416,"format":"double"},"sampleMean":{"type":"number","description":"the mean of the sample values","example":0.6039341894131875,"format":"double"},"sampleStandardDeviation":{"type":"number","description":"the standard deviation of the values within the sample set","example":0.5739641599916604,"format":"double"},"sampleSum":{"type":"number","description":"the sum of sample values","example":0.3204608985223111,"format":"double"},"streamKey":{"type":"string","description":"identifies the stream for which the interval statistics have been derived","example":"Fugiat repudiandae iste laboriosam."},"sum":{"type":"number","description":"the sum of values occuring within the interval","example":0.5911046854725389,"format":"double"}},"description":"A set of statistics based on the values of a stream for an interval","example":{"coefficientOfVariation":0.25302509858972727,"count":0.3998273149940576,"intervalEnd":4911934153958864988,"intervalStart":6712834853956369637,"maximum":0.8188160044725397,"mean":0.061986366409567326,"minimum":0.8829448037089079,"sampleCount":0.2356037819590342,"sampleMean":0.6521682555279215,"sampleStandardDeviation":0.27932899527257016,"sampleSum":0.975619506742909,"streamKey":"Eius totam dolorum similique et enim.","sum":0.1888862154506817}},"GoaStatisticsresults":{"title":"Mediatype identifier: vnd.application/goa.statisticsresults","type":"object","properties":{"intervalStatisticsList":{"type":"array","items":{"$ref":"#/definitions/GoaIntervalstatisticsresult"},"description":"A list of matching interval statistics","example":[{"coefficientOfVariation":0.47918374037684036,"count":0.6382756445610163,"intervalEnd":794943473892148522,"intervalStart":4321054465116140720,"maximum":0.7221887179201504,"mean":0.7073825417348023,"minimum":0.1406097041419187,"sampleCount":0.3229282456621726,"sampleMean":0.441821576959796,"sampleStandardDeviation":0.262535097203242,"sampleSum":0.0719721030937475,"streamKey":"Placeat aut et aut veritatis et.","sum":0.6376553063848336}]}},"description":"The results of a statistics query","example":{"intervalStatisticsList":[{"coefficientOfVariation":0.6824993734160295,"count":0.6579587505920022,"intervalEnd":7593461627225825720,"intervalStart":4474875786872935741,"maximum":0.5723828173082466,"mean":0.6181328491018251,"minimum":0.11752256101995413,"sampleCount":0.07523890434247259,"sampleMean":0.8264294742479302,"sampleStandardDeviation":0.9756198731007987,"sampleSum":0.07476376073244904,"streamKey":"Cum quisquam aperiam aliquid repellat.","sum":0.9666041683915777}]}},"PushOrdinalValuesPayload":{"title":"PushOrdinalValuesPayload","type":"object","properties":{"ordinal":{"type":"integer","description":"The ordinal position within the stream","format":"int64"},"stream":{"type":"string","description":"Identifies the stream that the ordinal value relates to"},"value":{"type":"number","description":"The value at the ordinal position","format":"double"}},"required":["stream","ordinal","value"]},"RegisterOrdinalValuesPayload":{"title":"RegisterOrdinalValuesPayload","type":"object","properties":{"intervalSize":{"type":"integer","description":"The ordinal position within the stream","format":"int64"},"maxIntervalLag":{"type":"integer","description":"The value at the ordinal position","format":"int64"},"stream":{"type":"string","description":"Identifies the stream that the definition relates to"},"tags":{"type":"array","items":{"type":"string"},"description":"A set of tag values to be assigned to the stream"},"targetSampleSize":{"type":"integer","description":"The value at the ordinal position","format":"int64"}},"required":["stream","intervalSize","maxIntervalLag","targetSampleSize"]},"StatisticsOrdinalValuesPayload":{"title":"StatisticsOrdinalValuesPayload","type":"object","properties":{"maxDateTime":{"type":"string","description":"Specifies a maximum date time used to restrict the interval statistics returned.  Only statistics for intervals that are for a time range up until this date time value will be returned.","format":"date-time"},"maxOrdinal":{"type":"integer","description":"Specifies a maximum ordinal value used to restrict the interval statistics returned.  Only statistics for intervals that end on or before this ordinal value will be returned.","format":"int64"},"mergeIntervals":{"type":"boolean","description":"If true, results across multiple intervals will be merged together to produce a summary result."},"mergeStreams":{"type":"boolean","description":"If true, results from multiple streams will be merged together to produce a summary result."},"minDateTime":{"type":"string","description":"Specifies a minimum date time used to restrict the interval statistics returned.  Only statistics for intervals that are for a time range on or after this date time value will be returned.","format":"date-time"},"minOrdinal":{"type":"integer","description":"Specifies a minimum ordinal value used to restrict the interval statistics returned.  Only statistics for intervals that begin on or after this ordinal value will be returned.","format":"int64"},"streamMatchCriteria":{"$ref":"#/definitions/StreamMatchCriteria"}}},"StreamMatchCriteria":{"title":"StreamMatchCriteria","type":"object","properties":{"excludeWithAnyTags":{"type":"array","items":{"type":"string"},"description":"An optional array of tags.  Streams tagged with any of these tags will be excluded"},"includeWithAllTags":{"type":"array","items":{"type":"string"},"description":"An optional array of tags. Streams tagged with all of these tags will be included"},"streamKeys":{"type":"array","items":{"type":"string"},"description":"An optional array of streamKeys used to select streams"}}},"TagOrdinalValuesPayload":{"title":"TagOrdinalValuesPayload","type":"object","properties":{"clearAll":{"type":"boolean","description":"If true, previously assigned tags will be cleared"},"stream":{"type":"string","description":"Identifies the stream that the definition relates to"},"tagsToAssign":{"type":"array","items":{"type":"string"},"description":"An array of tags to be assigned"},"tagsToUnassign":{"type":"array","items":{"type":"string"},"description":"An array of tags to be unassigned"}},"required":["stream"]}}}